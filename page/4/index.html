<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>青蜂侠</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="青蜂侠">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="青蜂侠">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="青蜂侠">
<meta name="twitter:description">
  
    <link rel="alternate" href="/atom.xml" title="青蜂侠" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">青蜂侠</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-manage/对团队成员的放权" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/authorize-to-crew/" class="article-date">
  <time datetime="2015-05-24T10:19:00.000Z" itemprop="datePublished">2015-05-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/authorize-to-crew/">对团队成员的放权</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###讨论背景<br>团队刚刚来了两个新人，加上之前的一个工作一年的员工总共四个人；新的项目刚下来，时间比较紧，新人对于业务都不甚熟悉，而且我对于新人能力也不甚熟悉。</p>
<p>####项目开始阶段：把控所有细节</p>
<p>项目在一开始的时候会有很多方向性的事情和细节节点需要确定，而这个时候新人还都处于了解项目的阶段，而老员工因为个人原因对于项目也很难有整体把控的能力；所以这个阶段，需要团队的负责人来确定所有细节，包括对团队成员的分工。当团队成熟之后，可以根据成员的兴趣，个人能力和性格等特点分配不同的功能，但是以现在的团队而言还是需要负责人将功能拆分之后细分至每一个人。</p>
<p>#####问题<br>这个阶段因为对于团队和细节控制的太细，而且因为抓紧时间，因此不能让每个成员都能像自己一样熟练掌握项目细节。所以在实施之后，成员对功能点的不熟悉导致需要大量的沟通时间，而且决策都集中在一个人，会导致决策者称为项目推进的瓶颈，而且作为决策者会变的很疲惫，对项目进展也不利。</p>
<p>#####收获<br>这个阶段是对项目整体把握最好阶段，因为这个阶段会决定项目对基本架构和大致方向，也是非常锻炼项目架构能力的时候。</p>
<h4 id="项目中期：逐渐放权"><a href="#项目中期：逐渐放权" class="headerlink" title="项目中期：逐渐放权"></a>项目中期：逐渐放权</h4><p>随着项目的推进，团队成员渐渐进入开发状态，对项目对了解也逐渐深入；由于他们是承担开发任务最多的，所以他们应该对项目的各个细节甚至节点有一定的决定权；如果团队成员每个人工作都很积极，而且能力也很好，那调动他们的主动性将对项目的推动有极大的意义。</p>
<p>怎样才能最大程度的调动成员的主动性？通过这次项目的实施发现，给予他们足够的自主权是很有效的做法。自主权也就意味着决策权，他们可以决定项目实施的细节该怎样实现，采用何种方式能够最快的交付功能。这时候负责各个功能的人，才能真正感觉到这个功能是自己的。拥有权利，再要求他们负担起对应的义务也就理所当然——<strong>义务与权利是对等</strong>的。</p>
<p>#####问题<br>将项目实施放权给成员之后，也需要承担相应的风险，因为一旦因为开发经验等问题而导致项目跑偏，最后吃亏对是团队所有对人。所以这个时候项目负责人可以相应监督项目实施，听取他们对决策之后，如果发现存在一定对风险，需要及时提出来，并讨论一个可行的解决方案。但是整个讨论过程，项目负责人更多是一个引导者或者是问题的提出者，具体的解决应该由实施项目的人来提出并大家讨论的。</p>
<p>#####收获<br>当每个人都有自主权之后，决策就会细化到每个人，也就去除了决策的中心化，项目进展就不会被处于中心的人左右了。这样项目负责人可以抽出足够的时间来把控项目整体，能更全面的考虑项目中存在的问题，从另外更全面的视角来思考项目，与项目成员的思路形成互补。<br>另外，项目成员切实承担了项目压力，对个人成长也有很多的帮助。</p>
<p>###决策中心化还是分散化？</p>
<p>这个案例就引申出一个问题：项目决策（推进）是应该中心化模式还是分散化模式？<br>以我个人的理解，项目的大方向、架构和项目中的风险判断应该采用中心化的决策模式，这样才能更好的统一，而且能够更快速。当然中心化的决策应该充分吸收其他人的意见，但是无论讨论如何激烈，最后拍板决定的还应该是项目的负责人。这也符合了义务和权利对等的原则。</p>
<p>当项目细化为task并分配到每个人的时候，决策权也应该分配到每个人，这样他们能够根据实际来作出判断，也更好的推进项目。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/authorize-to-crew/" data-id="cipak3m2v000jya5nkx7oq0dq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/管理/">管理</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-clojure/Clojure ns require use import" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/clojure-ns-require-use-import/" class="article-date">
  <time datetime="2015-02-04T03:37:00.000Z" itemprop="datePublished">2015-02-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/clojure-ns-require-use-import/">Clojure ns require use import</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="ns"><a href="#ns" class="headerlink" title="ns"></a>ns</h4><p><a href="http://clojuredocs.org/clojure.core/ns" target="_blank" rel="external">ns</a>用来定义当前的命名空间，可以配合import,require,use进行使用。<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">ns</span></span> foo.bar</span><br><span class="line">  (<span class="symbol">:refer-clojure</span> <span class="symbol">:exclude</span> [ancestors printf])</span><br><span class="line">  (<span class="symbol">:require</span> [clojure.contrib sql sql.tests])</span><br><span class="line">  (<span class="symbol">:use</span> [my.lib this that])</span><br><span class="line">  (<span class="symbol">:import</span> [java.util Date Timer Random]</span><br><span class="line">    (<span class="name">java.sql</span> Connection Statement)))</span><br></pre></td></tr></table></figure></p>
<h4 id="require"><a href="#require" class="headerlink" title="require"></a>require</h4><p><a href="http://clojuredocs.org/clojure.core/require" target="_blank" rel="external">require</a> 是将clojure load进入当前的命名空间，会跳过已经load进来的lib。 :require可以配合 :as, :only, :include, :exclude, :refer, :all等等一起使用。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">;; alias clojure.java.io as iouser=&gt; (require '[clojure.java.io :as io])nil</span><br><span class="line"></span><br><span class="line">user=&gt; (io/file "Filename")#&lt;File Filename&gt;</span><br><span class="line"></span><br><span class="line">;; alias clojure.java.io as io using prefixesuser=&gt; (require '(clojure.java [io :as io2])nil</span><br><span class="line"></span><br><span class="line">user=&gt; (io2/file "Filename")#&lt;File Filename&gt;</span><br></pre></td></tr></table></figure>
<h4 id="use"><a href="#use" class="headerlink" title="use"></a>use</h4><p><a href="http://clojuredocs.org/clojure.core/use" target="_blank" rel="external">use</a>与require作用类似，但除了将libs load进入之外，还使用clojure.core/refer refer他们的namespaces。可以配合:exclude, :only, and :rename使用。<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">ns</span></span> some.namespace</span><br><span class="line">  (<span class="symbol">:require</span> [clojure.contrib.json <span class="symbol">:as</span> json])</span><br><span class="line">  (<span class="symbol">:use</span> [clojure.string <span class="symbol">:only</span> [trim lower-case split]]</span><br><span class="line">        [clojure.contrib.shell-out]</span><br><span class="line">        [clojure.pprint]</span><br><span class="line">        [clojure.test]))</span><br></pre></td></tr></table></figure></p>
<h4 id="import"><a href="#import" class="headerlink" title="import"></a>import</h4><p><a href="http://clojuredocs.org/clojure.core/import" target="_blank" rel="external">import</a>主要用来加载java类。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(import &amp; import-symbols-or-lists)</span><br><span class="line">import-list =&gt; (package-symbol class-name-symbols*)</span><br><span class="line">(ns foo.bar</span><br><span class="line">  (:import (java.util Date</span><br><span class="line">                      Calendar)</span><br><span class="line">           (java.util.logging Logger</span><br><span class="line">                              Level)))</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/clojure-ns-require-use-import/" data-id="cipak3m2e0004ya5nzruih220" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Clojure/">Clojure</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-clojure/Clojure 读写文件" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/clojure-readwrite-file/" class="article-date">
  <time datetime="2015-02-03T07:55:00.000Z" itemprop="datePublished">2015-02-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/clojure-readwrite-file/">Clojure 读写文件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Clojure读取文件"><a href="#Clojure读取文件" class="headerlink" title="Clojure读取文件"></a>Clojure读取文件</h2><p>####简单读文件(slurp)</p>
<p>最简单的读取文件可以采用<a href="http://clojuredocs.org/clojure.core/slurp" target="_blank" rel="external">slurp</a>,主要作用是读取文件并以字符串的形式返回文件内容，因为其将文件直接存入内存，此方法适用于小文件的读取。<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">slurp</span></span> <span class="string">"test.file"</span>)</span><br></pre></td></tr></table></figure></p>
<p>在repl里面可以直接打印出字符串内容。</p>
<h4 id="Clojure-IO标准库"><a href="#Clojure-IO标准库" class="headerlink" title="Clojure IO标准库"></a>Clojure IO标准库</h4><p>Clojure中的文件io包装在标准库<a href="http://clojuredocs.org/clojure.java.io" target="_blank" rel="external">clojure.java.io</a>包中，我们用<a href="http://clojuredocs.org/clojure.java.io/reader" target="_blank" rel="external">reader</a>进行文件读取。<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">ns</span></span> reader.read-file</span><br><span class="line">  (<span class="symbol">:require</span> [clojure.java.io <span class="symbol">:as</span> io]))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> testfile (<span class="name">io/file</span> <span class="string">"E:/hack/clojure-cook/src/reader/snake.clj"</span>))</span><br><span class="line">(<span class="name"><span class="builtin-name">with-open</span></span> [rdr (<span class="name">io/input-stream</span> testfile)]</span><br><span class="line">  (<span class="name"><span class="builtin-name">loop</span></span>  [c (<span class="name">.read</span> rdr)]</span><br><span class="line">    (<span class="name"><span class="builtin-name">if</span></span> (<span class="name"><span class="builtin-name">not=</span></span> c <span class="number">-1</span>)</span><br><span class="line">      (<span class="name"><span class="builtin-name">do</span></span> </span><br><span class="line">        (<span class="name"><span class="builtin-name">+</span></span> x c)</span><br><span class="line">        (<span class="name"><span class="builtin-name">recur</span></span> (<span class="name">.read</span> rdr))))))</span><br></pre></td></tr></table></figure></p>
<p>这段代码里用到了两个重要的函数，file和reader。file函数主要获取java.io.File对象。可以使用以下方法来获取file对象。<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">ns</span></span> reader.file-demo</span><br><span class="line">  (<span class="symbol">:require</span> [clojure.java.io <span class="symbol">:as</span> io]))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> f (<span class="name">io/file</span> <span class="string">"E:/hack/clojure-cook/src/reader/snake.clj"</span>))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> data-f </span><br><span class="line">  (<span class="name">io/file</span> </span><br><span class="line">   (<span class="name">io/resource</span> <span class="string">"snake.clj)))</span></span><br></pre></td></tr></table></figure></p>
<p>其中resource是从项目读取资源，需要在project.clj中配置资源的文件夹：<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:resource-paths</span> [<span class="string">"E:/hack/clojure-cook/src/reader"</span>]</span><br></pre></td></tr></table></figure></p>
<h4 id="使用java-io"><a href="#使用java-io" class="headerlink" title="使用java io"></a>使用java io</h4><p>除了读取本地文件，也可以读取网络信息，比如：<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">ns</span></span> reader.file-demo</span><br><span class="line">  (<span class="symbol">:require</span> [clojure.java.io <span class="symbol">:as</span> io])</span><br><span class="line">  (<span class="symbol">:import</span> (<span class="name">java.net</span> URL)</span><br><span class="line">           (<span class="name">java.io</span> InputStreamReader BufferedReader)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> fetch-url[address]</span><br><span class="line">  (<span class="name"><span class="builtin-name">with-open</span></span> [stream (<span class="name">.openStream</span> (<span class="name">URL.</span> address))]</span><br><span class="line">    (<span class="name"><span class="builtin-name">let</span></span> [buf (<span class="name">BufferedReader.</span></span><br><span class="line">               (<span class="name">InputStreamReader.</span> stream))]</span><br><span class="line">      (<span class="name"><span class="builtin-name">apply</span></span> str (<span class="name"><span class="builtin-name">line-seq</span></span> buf)))))</span><br><span class="line">  </span><br><span class="line">(<span class="name">fetch-url</span> <span class="string">"http://www.baidu.com"</span>)</span><br></pre></td></tr></table></figure></p>
<p>##写文件</p>
<p>####简单写文件(<a href="http://clojuredocs.org/clojure.core/spit" target="_blank" rel="external">split</a>）<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">ns</span></span> reader.file-demo</span><br><span class="line">  (<span class="symbol">:require</span> [clojure.java.io <span class="symbol">:as</span> io]))</span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> out (<span class="name">io/file</span> <span class="string">"demo.file"</span>))</span><br><span class="line">(<span class="name">spit</span> out <span class="string">"test file"</span>)</span><br></pre></td></tr></table></figure></p>
<p>spit是和slurp相对应的函数，只能进行极小且简单的文件处理，如果进行复杂的文件处理还需要使用Clojure IO库，或者java IO库。</p>
<h4 id="Clojure-IO-写文件"><a href="#Clojure-IO-写文件" class="headerlink" title="Clojure IO 写文件"></a>Clojure IO 写文件</h4><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name"><span class="builtin-name">ns</span></span> reader.file-demo</span><br><span class="line">  (<span class="symbol">:require</span> [clojure.java.io <span class="symbol">:as</span> io]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">def</span></span> out (<span class="name">io/file</span> <span class="string">"demo.file"</span>))</span><br><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> write-file [content]</span><br><span class="line">  (<span class="name"><span class="builtin-name">with-open</span></span> [w (<span class="name">io/writer</span> out)]</span><br><span class="line">    (<span class="name">.write</span> w content)))</span><br><span class="line"></span><br><span class="line">(<span class="name">write-file</span> <span class="string">"test file second"</span>)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/clojure-readwrite-file/" data-id="cipak3m260001ya5nhehfuckq" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Clojure/">Clojure</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2015新年计划" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/2015-newyear-plan/" class="article-date">
  <time datetime="2015-01-05T15:27:00.000Z" itemprop="datePublished">2015-01-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/2015-newyear-plan/">2015新年计划</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>为什么不写年终总结呢？</p>
<p>其实自己已经好几年没有写过新年计划了，也就没有太多想以此总结。没写计划的这几年，生活过得还算不错，年年回想起来都觉得收获不少。</p>
<p>今年与往年不同，结婚成家了，在上海买了房子，基本稳定在上海了，生活进入了另一个阶段，需要好好计划一下了。</p>
<h3 id="一个月读一本书"><a href="#一个月读一本书" class="headerlink" title="一个月读一本书"></a>一个月读一本书</h3><p>不管是什么类型的书，小说可以，社科可以，甚至技术类的书籍也可以。</p>
<p>每天虽然很忙，但是零碎休闲的时间还算不少，每天上下班的地铁有半个小时，加上其他的时间，一天也有一个小时可以认真读书。</p>
<h3 id="出去旅游一次"><a href="#出去旅游一次" class="headerlink" title="出去旅游一次"></a>出去旅游一次</h3><p>不算上结婚旅游，今年还要自己出去旅游一次。这些年因为经济原因，自己没有自主出去旅游过，错过了很多美好的假期。今年打算去国内的某个地方，认真看看，体验一下不同地方的生活。</p>
<p>###学习一门新的编程语言###</p>
<p>去年一直在看Clojure，但一直未能沉下心研究，也就没能深入学习。</p>
<p>今年，要认真学习一门新语言，可能是Clojure也可能是其他，达到熟练使用，理解原理，同时对其社区有贡献的程度。</p>
<p>###研究一个开源项目###</p>
<p>前年深入研究过Netty,收获颇丰,可惜没能有代码贡献.几年继续寻找一个优秀的开源项目研究,达到贡献代码的程度。</p>
<p>###工作上再升级###</p>
<p>不管最后职级上自己能不能升上去，但能力上要达到升级的程度，基本能够胜任大型平台的项目架构设计，同时掌握项目管理技能以及少量的人员管理。</p>
<p>总共五个目标，一年只有12个月，除去旅游，剩下的四个目标，平均时间也只有三个月，还是有压力的。拭目以待吧。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/2015-newyear-plan/" data-id="cipak1vow0002y95nz7p39yoo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/新年计划/">新年计划</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-membercache优化使用tips" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/memcache-optimization-tips/" class="article-date">
  <time datetime="2014-12-21T13:52:00.000Z" itemprop="datePublished">2014-12-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术总结/">技术总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/memcache-optimization-tips/">memcache优化使用tips</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文主要讨论了在使用memcache时的一些技巧，以及这些技巧的优缺点。</p>
<p>###1. 缓存的数据</p>
<p>缓存存储的数据按照计算（读取）的结果类型，可以分为</p>
<ol>
<li>存储直接从数据库中读取的数据，降低对数据库的压力，可称为<strong>数据源型缓存</strong></li>
<li>存储从数据库读取并且业务处理完毕的数据，也可称为 <strong>最终结果型缓存</strong></li>
<li>存储进行了部分业务处理的数据，称为<strong>中间结果型缓存</strong></li>
</ol>
<p>数据源型缓存可以直接降低对DB的压力，扩展性高，这也是缓存应用很普遍的形式。但是如果这些数据需要经过复杂而消耗资源的处理，则数据源缓存只能解决了部分的性能问题，这个时候就可以考虑最终结果性缓存，也就是存储经过算法处理之后的结果，这样，每次程序直接根据key从缓存读取结果即可，能够节省大量的时间。</p>
<p>最终结果性缓存，比较适合需要消耗大量计算时间的程序，但是其缺点是缓存的扩展和可移植性很差，一旦程序的key有变化，就会导致所有的缓存都不再适合使用；而且在缓存失效的情况下，会导致程序的时间曲线出现毛刺。</p>
<p>中间结果性缓存，是出于数据源缓存与最终结果型缓存的一种形式，中和了两种缓存的优缺点，但是会使得缓存变多，一次计算需要读取多个缓存。</p>
<p>在实际使用过程中，优先使用数据源型缓存。</p>
<p>###2.缓存有效期设置<br>memcached中所有的缓存都有缓存时间，最长有效时间为72小时。</p>
<p>缓存有效期时间越长，其命中率也就越高，越能有效降低对DB的压力，同时提高程序的处理性能；但是其数据的有效性也就会降低，而且有效期很长的缓存导致程序bug之后，会等到很久之后才会被发现，在问题定位及debug都会造成较大的困难。</p>
<p>原则上在业务允许的范围内，可尽量将有效期设置更长；在使用过程中，综合程序的可测性和线上bug处理的便利性，一般缓存的有效期设置时间会小于2个小时。</p>
<p>###3.缓存更新策略<br>我们在程序中通常的方式是，首先从缓存中读取数据，如果缓存中的数据已经过期，则我们会直接向DB请求数据，并将正确的数据存储到缓存中。这种更新策略也就做<strong>被动式更新策略</strong>。</p>
<p>在程序中需要的缓存的数据一般是更新频率很低的数据，我们可以在数据发生改变时，主动的将改变后的程序更新到缓存中，这样缓存数据的有效期就可以基本处于有效的状态中，这是<strong>主动式更新策略</strong>，可以将这种缓存的有效期设置的长些。但是这种方式会使得缓存在两处的程序中更新。</p>
<p>对于一些可预见的高QPS的缓存，我们可以在程序启动的时候将这部分缓存加载（<em>缓存预热</em>），这样就可以避免由于冷启动而对DB造成瞬时过大压力。</p>
<p>###4.使用热点缓存<br>在某些场景之下，cache的qps极高，会出现一瞬间缓存miss，导致过多的请求直接压到数据库中，造成数据库雪崩，这也叫做<a href="https://code.google.com/p/memcached/wiki/NewProgrammingTricks#Avoiding_stampeding_herd" target="_blank" rel="external">stampeding herd</a>问题。我们可以采用<strong>热点缓存</strong>的方式来解决。</p>
<p>热点缓存在缓存失效时，总共有n个请求在读取缓存，对其中n-1个请求返回刚刚过期的缓存数据，只允许其中一个请求直接访问DB，并更新缓存。这样可以有效降低对数据库的访问数量，同时对于业务也不会造成太大的影响。</p>
<p>###5.批量读取缓存(multiget)<br>在一些情况，需要一次读取多个key的缓存。这个时候可以使用批量读取的方式一次向memcached请求多个key的缓存，这样可以有效避免循环读取单个key缓存的网络问询时间。</p>
<p>批量缓存导致过<a href="http://highscalability.com/blog/2009/10/26/facebooks-memcached-multiget-hole-more-machines-more-capacit.html" target="_blank" rel="external">multiget 无底洞问题</a>。可以考虑把multiget的key分布到一个节点上，来避免这个问题，这样就需要自己定制memcache的客户端，按一定的规则（比如：相同的前缀）把一类key分布到同一个节点上，来避免这个问题，同时这样也可以提高性能，不用在多个节点之间等待数据。</p>
<p>###6.缓存内容大小<br>multiget主要为了解决网络轮训的时间，但是网络传输时间还包括了传输数据量的大小，需要传输的数据量越大，需要的传输时间也就越大。</p>
<p>所以，我们在设计缓存的时候，尽量将缓存的value变小，比如采用自己序列化value的方式，这样可以有效降低网络传输时间。有效避免网络的拥堵。</p>
<p>另外还存在一个问题：当某个key的QPS过高，会出现短时间内网络拥堵的情况，例如value的大小为1k,而其QPS 为100000，而服务器内网的最大带宽只有1000M，这时候就会出现网络拥堵的情况。实际上，因为缓存的网络带宽是很多key共用的，所以在热点key QPS还没有达到临界点的时候，就已经超时了。</p>
<p>所以，缩小缓存value不仅可有效减低网络传输时间，同时也可以降低发生网络拥堵的几率。</p>
<p>##总结<br>缓存的使用有很多小技巧，但是很多技巧都有其优缺点，我们在实际的业务中根据现状选择适合自己的使用方式，才能有效提高网站的性能。</p>
<p>##Reference<br><a href="http://blog.coding.net/blog/how-to-build-high-performance-server-program" target="_blank" rel="external">也谈如何构建高性能服务端程序</a><br><a href="http://my.oschina.net/u/142836/blog/171196" target="_blank" rel="external">Memcached应用总结</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/memcache-optimization-tips/" data-id="cipak4say000rya5nv21hh48j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/memcached/">memcached</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Spring实现Proxy模式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/spring-proxy-20140918/" class="article-date">
  <time datetime="2014-09-18T11:55:00.000Z" itemprop="datePublished">2014-09-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/spring-proxy-20140918/">Spring中实现Proxy模式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Spring中使用Proxy模式很多，经典就是AOP中的代理了，但是这里想讨论的是我们在自己的代码中实现代理模式的问题。</p>
<p>在上一篇Spring实现factory模式中，我们需要使用Person里面的方法，但是type是程序运行的过程中才知道是多少，如果要使用Person接口需要在代码里面动态的判断到底使用哪种对象，这时候使用Factory模式就很难实现这种了。<br>撇开配置，我们最直接的想法是<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">int</span> <span class="title">handler</span><span class="params">( <span class="keyword">int</span> type)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Handler1</span> <span class="keyword">implements</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">int</span> <span class="title">handler</span><span class="params">(<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">          <span class="keyword">return</span> type +<span class="number">1</span>;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Handler2</span> <span class="keyword">implements</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">int</span> <span class="title">handler</span><span class="params">(<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">          <span class="keyword">return</span> type +<span class="number">2</span>;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestHandler</span></span>&#123;</span><br><span class="line">     <span class="keyword">private</span> Handler handler;</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testhandler</span><span class="params">()</span></span>&#123;</span><br><span class="line">          <span class="keyword">int</span> type = (<span class="keyword">int</span>) random();          </span><br><span class="line">          <span class="keyword">if</span>(type == <span class="number">0</span>)&#123;</span><br><span class="line">               handler = <span class="keyword">new</span> Handler1();</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               handler = <span class="keyword">new</span> Handler2();</span><br><span class="line">          &#125;</span><br><span class="line">          handler.handler(type);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这种代码使用Proxy模式是合适的。</p>
<p>Proxy模式[<a href="http://en.wikipedia.org/wiki/Proxy_pattern" target="_blank" rel="external">http://en.wikipedia.org/wiki/Proxy_pattern</a>] ：所谓的代理者是指一个类型可以作为其它东西的接口。<br>我们可以将PersonHandler 里面的person使用prox的方式来实现。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HandlerProxy</span> <span class="keyword">implements</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line">     <span class="function"><span class="keyword">int</span> <span class="title">handler</span><span class="params">(<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">          <span class="keyword">int</span> type = (<span class="keyword">int</span>) random();          </span><br><span class="line">          <span class="keyword">if</span>(type == <span class="number">0</span>)&#123;</span><br><span class="line">               handler = <span class="keyword">new</span> Handler1();</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               handler = <span class="keyword">new</span> Handler2();</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> handler.handler(type);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestHandler</span></span>&#123;</span><br><span class="line">     <span class="keyword">private</span> Handler handler = <span class="keyword">new</span> HandlerProxy();</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testhandler</span><span class="params">()</span></span>&#123;</span><br><span class="line">          <span class="keyword">int</span> type = (<span class="keyword">int</span>) random();          </span><br><span class="line">          </span><br><span class="line">          handler.handler(type);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这样在配时就可以采用如下配置<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"handler1"</span> <span class="attr">class</span>=<span class="string">"Handler1"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"handler2"</span> <span class="attr">class</span> = <span class="string">"Handler2"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HandlerProxy</span> <span class="keyword">implements</span> <span class="title">Handler</span></span>&#123;</span><br><span class="line"></span><br><span class="line">     <span class="meta">@Autowired</span>          </span><br><span class="line">     <span class="keyword">private</span> Handler handler1</span><br><span class="line">     <span class="meta">@Autowired</span>     </span><br><span class="line">     <span class="function"><span class="keyword">private</span> Handler handler2</span><br><span class="line">     <span class="keyword">int</span> <span class="title">handler</span><span class="params">(<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">          <span class="keyword">int</span> type = (<span class="keyword">int</span>) random();          </span><br><span class="line">          <span class="keyword">if</span>(type == <span class="number">0</span>)&#123;</span><br><span class="line">               <span class="keyword">return</span> handler1.handler(type);</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="keyword">return</span> handler2.handler(type);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/spring-proxy-20140918/" data-id="cipak1vpw000ey95n9qqkk2wo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring-Java/">Spring Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Spring中实现Factory模式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/spring-factory-pattern/" class="article-date">
  <time datetime="2014-09-17T13:57:00.000Z" itemprop="datePublished">2014-09-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/spring-factory-pattern/">Spring中实现Factory模式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Facory-Pattern-工厂模式）"><a href="#Facory-Pattern-工厂模式）" class="headerlink" title="Facory Pattern(工厂模式）"></a>Facory Pattern(工厂模式）</h3><p>工厂模式分为<a href="http://zh.wikipedia.org/wiki/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95" target="_blank" rel="external">工厂方法模式</a>（也可以成为简单工厂）和<a href="http://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82" target="_blank" rel="external">抽象工厂模式</a>。<br>例如工厂方法模式：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">    public interface Person&#123;</span><br><span class="line">       String getName();</span><br><span class="line">    &#125;</span><br><span class="line">    public Class Male implements Person&#123;</span><br><span class="line">        String getName()&#123;</span><br><span class="line">            return "Male";</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public Class Female implements Person&#123;</span><br><span class="line">        String getName()&#123;</span><br><span class="line">            return "Female";</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public class PersonFacory&#123;</span><br><span class="line">        public static createPerson(int type)&#123;</span><br><span class="line">            if(type==1)&#123;</span><br><span class="line">                return new Male();</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                return new Female();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">```   </span><br><span class="line"></span><br><span class="line">工厂方法模式相对比较简单，主要是接受不同的参数组装不同的bean。</span><br><span class="line"></span><br><span class="line">抽象工厂模式，参见如下代码：</span><br><span class="line">```java</span><br><span class="line">    interface BlackPerson extends Person()&#123;</span><br><span class="line">        void handler(int type);</span><br><span class="line">        String getColor();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    interface YellowPerson extends Person&#123;</span><br><span class="line">        </span><br><span class="line">        String getColor();</span><br><span class="line">    &#125;</span><br><span class="line">    public class BlackMale extends BlackPeron&#123;</span><br><span class="line">        void handler(int type)&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    	public String getColor()&#123;</span><br><span class="line">    		return "black";</span><br><span class="line">    	&#125;</span><br><span class="line">    	public String getName()&#123;</span><br><span class="line">    		return "blackMale";</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public class BlackFemale extends BlackPeron&#123;</span><br><span class="line">        void handler(int type)&#123;</span><br><span class="line">        &#125;</span><br><span class="line">    	public String getColor()&#123;</span><br><span class="line">    		return "BlackGirl";</span><br><span class="line">    	&#125;</span><br><span class="line">    	public String getName()&#123;</span><br><span class="line">    		return "BlackFemale";</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public class YellowMale extends YellowPeron&#123;</span><br><span class="line">    	public String getColor()&#123;</span><br><span class="line">    		return "Yellow";</span><br><span class="line">    	&#125;</span><br><span class="line">    	public String getName()&#123;</span><br><span class="line">    		return "YellowMale";</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public class YellowFemale extends YellowPeron&#123;</span><br><span class="line">    	public String getColor()&#123;</span><br><span class="line">    		return "YellowGirl";</span><br><span class="line">    	&#125;</span><br><span class="line">    	public String getName()&#123;</span><br><span class="line">    		return "YellowFemale";</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    abstract ColorPersonFacory&#123;</span><br><span class="line">        BlackPerson createBlackPerson(int type);</span><br><span class="line">        YellowPerson createYellowPerson(int type);</span><br><span class="line">    &#125;</span><br><span class="line">    class MaleFactory implements ColorPersonFacory&#123;</span><br><span class="line">        BlackPerson createBlackPerson(int type)&#123;</span><br><span class="line">           return new BlackMale();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        YellowPerson createYellowPerson(int type)&#123;</span><br><span class="line">            return new YellowMale();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">```    </span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">###Srping中实现工厂模式###</span><br><span class="line">Spring中其实实现的是工厂方法模式，例如需要配置一个Male：</span><br><span class="line"> </span><br><span class="line">```xml </span><br><span class="line">    &lt;bean id="male" class="PersonFacory" </span><br><span class="line">         factory-method="createPerson"&gt;</span><br><span class="line">        &lt;constructor-arg value="1" /&gt;</span><br><span class="line">        &lt;property&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中constructor-arg的参数即是createPerson的参数,新建出bean之后，通过property对bean做属性设置。<br>Spring中虽然是一种工厂方法模式，但是通过配置也同样可以支持抽象工厂模式，例如通过工厂模式获取BlackMale，可以如下配置<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"blackMale"</span> <span class="attr">class</span>=<span class="string">"BlackPersonFacory"</span> </span><br><span class="line">         <span class="attr">factory-method</span>=<span class="string">"createPerson"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">property</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/spring-factory-pattern/" data-id="cipak57qv000wya5nm4mswr6o" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring-Java/">Spring Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Spring管理junit transaction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/undefined/" class="article-date">
  <time datetime="2013-11-10T09:38:00.000Z" itemprop="datePublished">2013-11-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programing/">programing</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/undefined/">Spring管理junit transaction</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="images/blog/otp-20131110.png" alt="OTP"></p>
<p>我们在日常的开发中，很大部分ut 都是测试数据库的增删改查功能，重复的ut常常因为数据库不一致而失败，例如第一次测试的时候刚刚插入了一条数据，再运行同样的ut因为数据重复就会失败。因此最好的测试方式是自己mock数据。每次ut在结束的时候都将数据库状态恢复到初始状态。这里就介绍一种spring使用transaction实现的方式。</p>
<ol>
<li>在spring配置文件中配置数据库事务管理：<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">"txManager"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"txManager"</span><span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"testDataSource"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>其中dataSource是需要纳入管理的数据库的数据源配置。</p>
<ol>
<li><p>所有的测试类都需要继承AbstractTransactionalJUnit4SpringContextTests类。</p>
</li>
<li><p>UT类中设置数据源</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="meta">@Qualifier</span>(<span class="string">"dpMainDataSource"</span>)</span><br><span class="line"><span class="keyword">private</span> DataSource dpMainDataSource;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDataSource</span><span class="params">(DataSource dataSource)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.simpleJdbcTemplate = <span class="keyword">new</span> SimpleJdbcTemplate(dpMainDataSource);</span><br><span class="line">&#125;</span><br><span class="line">```		</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. 配置标签类</span><br><span class="line">以上的配置完成之后，该UT所有的<span class="meta">@Test</span>方法执行结果都会RollBack，</span><br><span class="line">如果有特殊需求可以设置<span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line">```java</span><br><span class="line"><span class="meta">@TransactionConfiguration</span>(defaultRollback = <span class="keyword">true</span>,transactionManager=<span class="string">"txManager"</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>5、下面给出一个示例代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith</span>(SpringJUnit4ClassRunner.class)</span><br><span class="line"><span class="meta">@ContextConfiguration</span>(locations = &#123;</span><br><span class="line">          <span class="string">"classpath*:/config/spring/common/appcontext-*.xml"</span>,</span><br><span class="line">          <span class="string">"classpath*:/config/spring/local/appcontext-*.xml"</span>,</span><br><span class="line">          <span class="string">"classpath*:/config/spring/membercard/appcontext-*.xml"</span> &#125;)</span><br><span class="line"><span class="meta">@TransactionConfiguration</span>(defaultRollback = <span class="keyword">true</span>, transactionManager = <span class="string">"txManager"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MemberCardUserProfileDemotionServiceObjectTest</span> <span class="keyword">extends</span></span><br><span class="line"><span class="title">AbstractTransactionalJUnit4SpringContextTests</span></span>&#123;</span><br><span class="line">     <span class="meta">@Autowired</span></span><br><span class="line">     <span class="meta">@Qualifier</span>(<span class="string">"dpMainDataSource"</span>)</span><br><span class="line">     <span class="keyword">private</span> DataSource dpMainDataSource;</span><br><span class="line">    </span><br><span class="line">     <span class="meta">@Autowired</span></span><br><span class="line">     <span class="keyword">private</span> MemberCardUserProfileDemotionService memberCardUserProfileDemotionService;</span><br><span class="line">    </span><br><span class="line">     <span class="meta">@Autowired</span></span><br><span class="line">     <span class="keyword">private</span> MemberCardUserDao memberCardUserDao;</span><br><span class="line">    </span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDataSource</span><span class="params">(DataSource dataSource)</span> </span>&#123;</span><br><span class="line">          <span class="keyword">this</span>.simpleJdbcTemplate = <span class="keyword">new</span> SimpleJdbcTemplate(dpMainDataSource);</span><br><span class="line">     &#125;</span><br><span class="line">    </span><br><span class="line">     <span class="meta">@Test</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOne</span><span class="params">()</span></span>&#123;</span><br><span class="line">          <span class="comment">//to test in here</span></span><br><span class="line">     &#125;</span><br><span class="line">    </span><br><span class="line">     <span class="meta">@Test</span></span><br><span class="line">     <span class="meta">@Rollback</span>(<span class="keyword">false</span>)</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testTwo</span><span class="params">()</span></span>&#123;</span><br><span class="line">         <span class="comment">// to test in here</span></span><br><span class="line">         </span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>###总结<br>采用这种方式做ut，无论代码是在开发环境还是qa测试环境，只要每次代码修改只需要ut测试就可以看出代码是否正确，再也不会因为数据库的问题导致ut结果变化。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/undefined/" data-id="cipak1vpt000cy95ncnn3r19b" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring-Java/">Spring Java</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-银行里的动态密码" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/undefined/" class="article-date">
  <time datetime="2013-11-03T08:02:00.000Z" itemprop="datePublished">2013-11-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/summarize/">summarize</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/undefined/">银行里的动态密码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="images/blog/otp-20131103.jpg" alt="OTP"></p>
<p>最近用了中国银行的网银，虽然整体体验很烂，但是动态密码还是很有趣，细思量下来，里面有很多门道。</p>
<h3 id="动态密码-OTP"><a href="#动态密码-OTP" class="headerlink" title="动态密码(OTP)"></a>动态密码(OTP)</h3><p>动态密码是一种实时变化的密码，银行里所用的是同步的密码技术，其同步方案又分为基于时间的同步方案和基于事件的同步方案。基于事件的密码生成需要两个基本输入：原定的密码种子和用户的特定事件（如登录，或者某个生成密码的操作等）。在用户的生成密码之后，服务器这一端会根据相同的事件和密码种子生成密码，来验证用户的输入是否正确。但是基于事件的密码是需要与服务器交互的，使用起来并不方便。在这里就不多介绍了。</p>
<p>###基于时间同步的动态密码。<br>现在中行的密码动态口令卡就是这种技术，简单方便，不需要与服务器有交互，看起来是一个很神奇的东西。<br>基于时间同步的动态密码，原理上类似于一次性密码本<a href="http://en.wikipedia.org/wiki/One-time_pad" target="_blank" rel="external">ONP(one-time pad )</a>，根据时间变化来生成不同的密码。在银行的使用过程中会发给用户一个专门硬件，这个硬件采用与服务器相同的密码生成算法，根据时间的变化生成密码。当需要用户输入一次性密码时，服务器会查询此时应该生成的密码，从而将用户输入密码与服务器密码相比对。基于时间同步的动态密码技术，其中一个关键在于用户的硬件与服务器的时间必须保持一致，否则便会出现所生成的密码不一致的问题。目前时间同步令牌一般通过增大偏移量的技术( 前后10mins) 来进行远程同步, 确保其能够继续使用, 降低对应用的影响; 但对于超出默认的时间同步令牌( 共20mins) , 将无法继续使用或进行远程同步, 必须送回服务器端另行处理。</p>
<p>###相关实现<br>目前关于时间同步的的算法已经有OATH的<a href="http://tools.ietf.org/html/draft-mraihi-totp-timebased-00" title="TOTP规范" target="_blank" rel="external">TOTP规范</a>也有相关的<a href="https://code.google.com/p/androidtoken/" title="开源项目" target="_blank" rel="external">开源项目</a>实现。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/undefined/" data-id="cipak1vs4001ly95n7j0g7lsd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术总结/">技术总结</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-图片编辑的Web端解决" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/post/undefined/" class="article-date">
  <time datetime="2013-09-17T14:02:00.000Z" itemprop="datePublished">2013-09-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/post/undefined/">图片编辑的web端解决</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近项目里面需要给用户提供一个图片裁剪和压缩的功能，这些图片是要推送到手机端，为了不过多浪费用户的流量，所以必须要压缩到某个阈值范围内。由于网站面向的用户都是偏低端的用户，而且他们绝大多数都是实用ie7，8的，所以不能使用html5来实现了。所以目前可用的方案只有两个：</p>
<ul>
<li>前端使用flash程序编辑图片后提交至后台保存；</li>
<li>或 后端接收原始图片，在服务器端对图片进行裁剪和压缩等编辑操作。</li>
</ul>
<p>经过调研，如果前端使用flash程序处理图片可以使用第三方的api（如美图秀秀api<a href="http://open.web.meitu.com/）或者前端重新开发一个图片处理的flash插件。后端处理图片可能的方案是在服务器端开发程序做图片处理，或者接入点评的图片中心以实现编辑的功能。" target="_blank" rel="external">http://open.web.meitu.com/）或者前端重新开发一个图片处理的flash插件。后端处理图片可能的方案是在服务器端开发程序做图片处理，或者接入点评的图片中心以实现编辑的功能。</a></p>
<p>###面临的问题</p>
<ol>
<li><p>首先，前端使用美图秀秀api可以满足用户图片编辑的需求，但是存在跨域问题和UI不一致的问题。因为美图秀秀api需要调用美图的服务器，所以需要在服务器端配置跨域，但跨域存在安全性和稳定性的风险，而且商户端的网站是挂在在商户中心下，跨域之后会使得商户中心网站及其挂载在商户中心下的网站都面临安全性的问题，可能在使用的过程中受到恶意攻击。</p>
</li>
<li><p>其次，如果前端重新开发flash，时间会比较长，而且前端可以开发flash的资源较少。</p>
</li>
<li><p>第三，如果后端在服务器端直接处理图片，会导致服务器内存消耗过大，网站稳定性下降厉害，会付出较大的代价。而且使用java实现图片的压缩，效果并不好，这在测试程序中也可看出。因此在服务器端直接处理图片是一件吃力不讨好的方案。</p>
</li>
<li><p>最后一种方案就是新建一个服务器，专门用于图片处理的功能，这种服务器做完，也就基本做了一个图片云服务的服务器。这样做是一个长期可行的方案，但是要解决眼前的问题，耗费的时间太长。</p>
</li>
</ol>
<p>所以想来想去，为了尽快的解决问题，还是采用美图秀秀的api，但是使用美图秀秀是需要跨域的，跨域毕竟存在安全性风险和稳定性风险。</p>
<p>###问题的解决</p>
<p><strong>要解决稳定性，必须要考虑美图秀秀服务器挂了该怎么办</strong></p>
<p>美图秀秀服务器的稳定性，不是我们所能控制的，所以必须要在美图秀秀挂了的情况下，自己的网站依然能上传图片。为了解除这种依赖，我们在程序中增加了一个标志位配置，以区别是否实用美图秀秀。如果这个标志位是false的时候，我们就使用简单的上传图片功能。如果为true的话，就继续使用美图秀秀。</p>
<p><strong>解决安全性问题</strong></p>
<p>跨域的安全风险还是很多的，特别是容易遭到CSRF的攻击。为了规避这种风险，最好的方式是将跨域的这部分独立到另一个服务器上。因为图片上传的功能对服务器性能消耗不大，所以找一个低性能的虚拟机完全可以满足这个需求。</p>
<p>现在flash是一个日渐式微的技术，会做flash的人越来越少了，Html5的实现又有ie在拦着，所以这一段时间内将简单的图片编辑放到服务器才是最稳定的方案了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/post/undefined/" data-id="cipak1vrd0016y95nwvkjv379" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术总结/">技术总结</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/clojure/">clojure</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/programing/">programing</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/summarize/">summarize</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术总结/">技术总结</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clojure/">Clojure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clojure-ruleengine/">Clojure ruleengine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Idempotent/">Idempotent</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java-JVM/">Java JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL-Index-SQL/">MySQL Index SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL-MySQL/">SQL MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Java/">Spring Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Undertow/">Undertow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/clojure-Compojure/">clojure Compojure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/front-end-cross-domian/">front-end, cross-domian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/memcached/">memcached</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microservice/">microservice</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microservice-design-patterns/">microservice design-patterns</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rime-输入法/">rime,输入法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rpc-pigeon/">rpc pigeon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scrum-敏捷-大项目管理/">scrum 敏捷 大项目管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动态代码-Groovy-OGNL-SpEL-MVEL/">动态代码 Groovy OGNL SpEL MVEL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动静分离/">动静分离</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实时通信-comet-websocket/">实时通信 comet websocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术总结/">技术总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/新年计划/">新年计划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/管理/">管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/系统重构-设计模式/">系统重构 设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/转载/">转载</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Clojure/" style="font-size: 20px;">Clojure</a> <a href="/tags/Clojure-ruleengine/" style="font-size: 10px;">Clojure ruleengine</a> <a href="/tags/Idempotent/" style="font-size: 10px;">Idempotent</a> <a href="/tags/Java-JVM/" style="font-size: 10px;">Java JVM</a> <a href="/tags/MySQL-Index-SQL/" style="font-size: 10px;">MySQL Index SQL</a> <a href="/tags/SQL-MySQL/" style="font-size: 10px;">SQL MySQL</a> <a href="/tags/Spring-Java/" style="font-size: 16.67px;">Spring Java</a> <a href="/tags/Undertow/" style="font-size: 13.33px;">Undertow</a> <a href="/tags/clojure-Compojure/" style="font-size: 10px;">clojure Compojure</a> <a href="/tags/front-end-cross-domian/" style="font-size: 10px;">front-end, cross-domian</a> <a href="/tags/memcached/" style="font-size: 10px;">memcached</a> <a href="/tags/microservice/" style="font-size: 10px;">microservice</a> <a href="/tags/microservice-design-patterns/" style="font-size: 10px;">microservice design-patterns</a> <a href="/tags/rime-输入法/" style="font-size: 10px;">rime,输入法</a> <a href="/tags/rpc-pigeon/" style="font-size: 10px;">rpc pigeon</a> <a href="/tags/scrum-敏捷-大项目管理/" style="font-size: 10px;">scrum 敏捷 大项目管理</a> <a href="/tags/动态代码-Groovy-OGNL-SpEL-MVEL/" style="font-size: 10px;">动态代码 Groovy OGNL SpEL MVEL</a> <a href="/tags/动静分离/" style="font-size: 10px;">动静分离</a> <a href="/tags/实时通信-comet-websocket/" style="font-size: 10px;">实时通信 comet websocket</a> <a href="/tags/技术总结/" style="font-size: 16.67px;">技术总结</a> <a href="/tags/新年计划/" style="font-size: 13.33px;">新年计划</a> <a href="/tags/管理/" style="font-size: 13.33px;">管理</a> <a href="/tags/系统重构-设计模式/" style="font-size: 10px;">系统重构 设计模式</a> <a href="/tags/转载/" style="font-size: 10px;">转载</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">五月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/post/bigproj-in-scrum/">Scrum中大项目管理</a>
          </li>
        
          <li>
            <a href="/post/dynamic-code-in-java/">Java中使用动态代码</a>
          </li>
        
          <li>
            <a href="/post/system-reconstruct-summary/">业务系统重构总结</a>
          </li>
        
          <li>
            <a href="/post/service-design-patterns-practices/">服务化设计模式实践</a>
          </li>
        
          <li>
            <a href="/post/brower-server-msg/">浏览器与服务器的消息通信</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 陈景广<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>